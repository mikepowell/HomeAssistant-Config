title: Weather
icon: mdi:weather-partly-snowy-rainy
path: weather
cards:
  - type: custom:vertical-stack-in-card
    cards:
      - type: custom:apexcharts-card
        config_templates: default
        header:
          title: Temp and Dew Point
        series:
          - entity: sensor.mpws2000_temp
            name: Outdoor
          - entity: sensor.mpws2000_dew_point
            name: Dew pt
        yaxis:
          - min: 0
            max: ~100
            decimals: 0

      - type: glance
        show_name: true
        entities:
          - entity: sensor.mpws2000_feels_like
            name: Feels like
          - entity: sensor.mpws2000_inside_temp
            name: Indoor
          - entity: sensor.mpws2000_humidity
            name: Humidity

  - type: custom:vertical-stack-in-card
    cards:
      - type: custom:apexcharts-card
        config_templates: default
        header:
          title: Wind
        series:
          - entity: sensor.mpws2000_wind_speed
            name: Speed
          - entity: sensor.mpws2000_wind_gust
            name: Gust
            type: line
            group_by:
              func: max
              duration: 5m
              fill: 'null'

        yaxis:
          - min: 0
            max: ~30
            decimals: 0
            apex_config:
              tickAmount: 6

      - type: glance
        show_name: true
        entities:
          - entity: sensor.mpws2000_max_gust
            name: Max gust
          - entity: sensor.mpws2000_wind_dir
            name: Direction

  - type: custom:vertical-stack-in-card
    cards:
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.mpws2000_hourly_rain_rate
            name: Rate
            show_state: true
            state_adaptive_color: true
          - entity: sensor.mpws2000_daily_rain
            name: Daily
            y_axis: secondary
            show_state: true
            state_adaptive_color: true
        hours_to_show: 24
        points_per_hour: 2
        aggregate_func: max
        line_width: 2
        decimals: 1
        show:
          name: false

      - type: glance
        show_name: true
        entities:
          - entity: sensor.mpws2000_weekly_rain
            name: Weekly
          - entity: sensor.mpws2000_monthly_rain
            name: Monthly
          - entity: sensor.mpws2000_yearly_rain
            name: Yearly

  - type: custom:vertical-stack-in-card
    cards:
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.mpws2000_rel_pressure
            name: Absolute
            show_state: true
            state_adaptive_color: true
        hours_to_show: 24
        points_per_hour: 2
        aggregate_func: max
        line_width: 2
        decimals: 1
        show:
          name: false
